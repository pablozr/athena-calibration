<app-header></app-header>

@if(isLoading){
  <app-loading></app-loading>
} @else {
  <div class="admin-container">
    <p-table [value]="users" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="displayName">Nome <p-sortIcon field="displayName"></p-sortIcon></th>
                <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
                <th pSortableColumn="roles" >Função <p-sortIcon field="roles"></p-sortIcon></th>
                <th>Ações</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
            <tr>
                <td>{{user.displayName}}</td>
                <td>{{user.email}}</td>
                <td>{{user.roles}}</td>
                <td><button pButton type="button" label="Excluir" icon="pi pi-trash" severity="danger" (click)="deleteUser(user.id)"></button></td>
            </tr>
        </ng-template>
    </p-table>
  </div>
}
